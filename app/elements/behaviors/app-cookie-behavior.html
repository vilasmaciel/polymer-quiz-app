<script>
var QuizApp = QuizApp || {};

QuizApp.AppCookieBehavior = {

  properties: {
    userAuth: {
      type: Object
    }
  },

  created: function() {
    this.loadCookie();
  },

  loadCookie: function() {
    if (document.cookie === '' || document.cookie === 'QuizApp=') {
      return null;
    } else {
      this.userAuth = this._recoverCookie(document.cookie);
      return this.userAuth;
    }
  },

  saveCookie: function() {
    document.cookie = this._bakeCookie(this.userAuth);
  },

  removeCookie: function() {
    document.cookie = 'QuizApp=';
  },

  _bakeCookie: function(data) {
    return 'QuizApp=' + JSON.stringify(data);
  },

  _recoverCookie: function(data) {
    return JSON.parse(data.split('QuizApp=')[1]);
  }

};
</script>
