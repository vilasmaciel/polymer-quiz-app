<dom-module id="quiz-front-page">
  <template>
    <style is="custom-style" include="app-themes"></style>
    <style>
    #quizContainer {
      width: 400px;
    }

    .card-header {
      background-color: var(--paper-grey-400);
      padding: 16px;
    }

    .card-header iron-icon {
      height: 256px;
      width: 256px;
    }
    </style>

    <div class="layout center center-justified horizontal">
      <paper-card elevation="2" id="quizContainer" class$="[[quiz.theme]]">

        <div class="card-header layout vertical">
          <div class="layout vertical center center-justified">
            <iron-icon icon="[[_getCategoryIcon(quiz.icon)]]"></iron-icon>
          </div>
          <div class="title">{{quiz.name}}</div>
        </div>

        <div class="card-actions">
          <paper-button on-tap="_start">Start</paper-button>
        </div>

      </paper-card>
    </div>
  </template>

  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'quiz-front-page',

      behaviors: [
        Polymer.NeonSharedElementAnimatableBehavior,
        Polymer.NeonAnimationRunnerBehavior
      ],

      properties: {
        quiz: {
          type: Object,
          notify: true
        },

        animationConfig: {
          type: Object,
          value: function() {
            return {
              'entry': {
                name: 'transform-animation',
                transformFrom: 'translate(0px,-200vh) scale(0.9,1)',
                transformTo: 'none',
                node: this.$.quizContainer,
              },
              'exit': [{
                name: 'transform-animation',
                transformFrom: 'none',
                transformTo: 'translate(0px,-200vh) scale(0.9,1)',
                node: this.$.quizContainer
              }]
            }
          }
        }
      },

      show: function() {
        if (this.quiz) {
          this.style.visibility = 'visible';
          this.playAnimation('entry');
        }
      },

      exit: function() {
        if (this.quiz) this.playAnimation('exit');
        var _this = this;
        setTimeout(function() {
          _this.style.visibility = 'hidden';
        }, 100);

      },

      _start: function() {
        this.fire('start');
      },

      _getCategoryIcon: function(name) {
        return 'category-icons:' + name;
      },

      _concatClass: function(classess, newClass) {
        return classess + ' ' + newClass;
      },

    });
  })();
  </script>
</dom-module>
